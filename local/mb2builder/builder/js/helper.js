/**
 *
 * @package    local_mb2builder
 * @copyright  2018 - 2022 Mariusz Boloz (mb2moodle.com)
 * @license    Commercial https://themeforest.net/licenses
 */ var current_selection,current_selection_offset,current_selection_range,mb2pb_Helper=function(){var e=function(e){return e=(e=e.replace(/\[.+\]/g,langspan.data("shortcodereplaced"))).replace("GENERICO","GENERIC0")},t=function(t){var a={};return $.each(t[0].attributes,function(){this.name.includes("data-")&&!this.name.includes("data-jarallax-")&&this.specified&&(a[this.name.replace("data-","")]=e(this.value))}),a},a=function(e){e?$(mb2pb_Selectors().builder.overlay).fadeIn(180):$(mb2pb_Selectors().builder.overlay).fadeOut(180)},r=function(){var e=window.parent.$(mb2pb_Selectors().builder.demoiframe);a(!0),e.attr("src",e.attr("src"))};return{replaceText:e,dataAttribs:t,overlay:a,reload:r,modalSettings:function(){$(mb2pb_Selectors().builder.modal).draggable({cursor:"move",handle:mb2pb_Selectors().builder.modalheader,scroll:!1})},checkModal:function(e){return!$(".modal.show").length||(alert(langspan.data("cantopenmodal")),!1)},decodeSpecialHtml:function(e){if(void 0!==e)return"number"==typeof e?e:e.replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},classFromnum:function(e,t,a){var r=[0,50,100,150,200,250],n=0,l=e.attr("data-sizepref")+"-";for(a&&(r=[1,2,3,4,5]),"column"===e.attr("data-numclasselector")&&(t=$(".mb2-pb-column-active")),n=0;n<r.length;n++)(a?e.val()>r[n]:e.val()>=r[n])&&(t.removeClass(l+r.join(" "+l)),t.addClass(l+r[n]),e.attr("data-numclassattr")&&t.attr("data-"+e.attr("data-numclassattr"),r[n]),e.attr("data-setval")&&$(".modal.show").find('[data-attrname="'+e.attr("data-setval")+'"]').val(r[n]))},stripHtml:function(e,t){return"html"===t?e:e.replace(/<\/?[^>]+(>|$)/g,"")},checkImage:function(e){return e?e.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp)/g)||e.includes("sample-data")?1:2:0},getSection:function(e){return"settings-section"===e?section=$(".mb2-pb-section-active"):"settings-row"===e?section=$(".mb2-pb-row-active"):"settings-column"===e?section=$(".mb2-pb-column-active"):"settings-element"===e?section=$(".mb2-pb-element-active"):"settings-subelement"===e&&(section=$(".mb2-pb-subelement-active")),section},validHtml:function(e){var t=new DOMParser;e="<div>"+e+"</div>";var a=t.parseFromString(e,"application/xml").querySelector("parsererror");return""===e?1:a?(alert(langspan.data("htmlerror")),0):1},uniqId:function(){return Math.floor(1e4*Math.random())},screenSize:function(e){var t=$(mb2pb_Selectors().builder.demoiframe);t.removeClass("device-desktop device-tablet device-smartphone"),t.addClass("device-"+e)},modalHelper:function(){return{mb2pb_modalShow:function(e){$(e).modal("show")},mb2pb_modalHide:function(e){$(e).modal("hide")}}}}};
