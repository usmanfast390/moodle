/**
 *  jQuery Superfish Menu Plugin
 *  Copyright (c) 2013 Joel Birch
 *  Dual licensed under the MIT and GPL licenses:
 *	http://www.opensource.org/licenses/mit-license.php
 *	http://www.gnu.org/licenses/gpl.html
 */!function(s,e){"use strict";var o,n,t,i,r,a,h,l,p,u,f,c,d,v,C,m,y=(t={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},i=((o=/^(?![\w\W]*Windows Phone)[\w\W]*(iPhone|iPad|iPod)/i.test(navigator.userAgent))&&s("html").css("cursor","pointer").on("click",s.noop),o),r="behavior"in(n=document.documentElement.style)&&"fill"in n&&/iemobile/i.test(navigator.userAgent),a=!!e.PointerEvent,h=function(s,e,o){var n,i=t.menuClass;e.cssArrows&&(i+=" "+t.menuArrowClass),s[n=o?"addClass":"removeClass"](i)},l=function(s,e){s.children("a")[e?"addClass":"removeClass"](t.anchorClass)},p=function(s){var e=s.css("ms-touch-action"),o=s.css("touch-action");o="pan-y"===(o=o||e)?"auto":"pan-y",s.css({"ms-touch-action":o,"touch-action":o})},u=function(s){return s.closest("."+t.menuClass)},f=function(s){return u(s).data("sfOptions")},c=function(){var e=s(this),o=f(e);o&&clearTimeout(o.sfTimer),e.siblings().superfish("hide").end().superfish("show")},d=function(e){e.retainPath=s.inArray(this[0],e.$path)>-1,this.superfish("hide"),!this.parents("."+e.hoverClass).length&&(e.onIdle.call(u(this)),e.$path.length&&s.proxy(c,e.$path)())},v=function(){var e=s(this),o=f(e);i?s.proxy(d,e,o)():o&&(clearTimeout(o.sfTimer),o.sfTimer=setTimeout(s.proxy(d,e,o),o.delay))},C=function(e){var o=s(this),n=f(o),t=o.siblings(e.data.popUpSelector);if(n&&!1===n.onHandleTouch.call(t))return this;t.length>0&&t.is(":hidden")&&(o.one("click.superfish",!1),"MSPointerDown"===e.type||"pointerdown"===e.type?o.trigger("focus"):s.proxy(c,o.parent("li"))())},m=function(e,o){var n="li:has("+o.popUpSelector+")";s.fn.hoverIntent&&!o.disableHI?e.hoverIntent(c,v,n):e.on("mouseenter.superfish",n,c).on("mouseleave.superfish",n,v);var t="MSPointerDown.superfish";a&&(t="pointerdown.superfish"),i||(t+=" touchend.superfish"),r&&(t+=" mousedown.superfish"),e.on("focusin.superfish","li",c).on("focusout.superfish","li",v).on(t,"a",o,C)},{hide:function(e){if(this.length){var o=f(this);if(!o)return this;var n=!0===o.retainPath?o.$path:"",t=this.find("li."+o.hoverClass).add(this).not(n).removeClass(o.hoverClass).children(o.popUpSelector),i=o.speedOut;if(e&&(t.show(),i=0),o.retainPath=!1,!1===o.onBeforeHide.call(t))return this;t.stop(!0,!0).animate(o.animationOut,i,function(){var e=s(this);o.onHide.call(e)})}return this},show:function(){var s=f(this);if(!s)return this;var e=this.addClass(s.hoverClass).children(s.popUpSelector);return!1===s.onBeforeShow.call(e)||e.stop(!0,!0).animate(s.animation,s.speed,function(){s.onShow.call(e)}),this},destroy:function(){return this.each(function(){var e,o=s(this),n=o.data("sfOptions");if(!n)return!1;e=o.find(n.popUpSelector).parent("li"),clearTimeout(n.sfTimer),h(o,n),l(e),p(o),o.off(".superfish").off(".hoverIntent"),e.children(n.popUpSelector).attr("style",function(s,e){return e.replace(/display[^;]+;?/g,"")}),n.$path.removeClass(n.hoverClass+" "+t.bcClass).addClass(n.pathClass),o.find("."+n.hoverClass).removeClass(n.hoverClass),n.onDestroy.call(o),o.removeData("sfOptions")})},init:function(e){return this.each(function(){var o=s(this);if(o.data("sfOptions"))return!1;var n,i,r=s.extend({},s.fn.superfish.defaults,e),a=o.find(r.popUpSelector).parent("li");r.$path=(n=o,i=r,n.find("li."+i.pathClass).slice(0,i.pathLevels).addClass(i.hoverClass+" "+t.bcClass).filter(function(){return s(this).children(i.popUpSelector).hide().show().length}).removeClass(i.pathClass)),o.data("sfOptions",r),h(o,r,!0),l(a,!0),p(o),m(o,r),a.not("."+t.bcClass).superfish("hide",!0),r.onInit.call(this)})}});s.fn.superfish=function(e,o){return y[e]?y[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?s.error("Method "+e+" does not exist on jQuery.fn.superfish"):y.init.apply(this,arguments)},s.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:s.noop,onBeforeShow:s.noop,onShow:s.noop,onBeforeHide:s.noop,onHide:s.noop,onIdle:s.noop,onDestroy:s.noop,onHandleTouch:s.noop}}(jQuery,window);
