/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2020 Mariusz Boloz (mb2moodle.com)
 * @license   Commercial https://themeforest.net/licenses
 *
 */ jQuery(document).ready(function(t){var e=function(){var e=function(){t(".swiper").each(function(){var e=t(this).attr("id"),i=0;t("#"+e).bind("inview",function(t,s){s&&!i&&(i=1,a().carouselDestroy(e),a().carouselInit(e),new LazyLoad)})})},i=function(){t(".mb2-pb-row.parallax1").each(function(){var e=0;t(this).bind("inview",function(a,i){i&&!e&&(e=1,t(this).jarallax())})})};return{init:function(){new LazyLoad,e(),i()}}},a=function(){var e,a=function(e){e.on("slideChange",function(e){t("#"+e.el.id).find(".swiper-slide").each(function(){if(!t(this).hasClass("swiper-slide-visible")){var e=t(this).find("iframe"),a=t(this).find("video");e.attr("src",e.attr("src")),a.closest(".image").html('<video controls="true"><source src="'+a.find("source").attr("src")+'"></video>')}})})},i=function(t){var e=t.closest(".mb2-pb-content"),a=t.closest(".mb2-pb-coursetabs");if(a.length&&(e=a),e.hasClass("clayout2"))return{grabCursor:!0,effect:"creative",breakpoints:{0:{creativeEffect:{prev:{translate:["-35%",0,-500],opacity:.5},next:{translate:["35%",0,-500],opacity:.5}}},577:{creativeEffect:{prev:{translate:["-40%",0,-500],opacity:.5},next:{translate:["40%",0,-500],opacity:.5}}},1101:{creativeEffect:{prev:{translate:["-80%",0,-500],opacity:.5},next:{translate:["80%",0,-500],opacity:.5}}}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}};var i=Number(e.attr("data-columns")),s=1==e.attr("data-mobcolumns"),n=1==e.attr("data-sloop"),o=1==e.attr("data-autoplay"),r=1==e.attr("data-touchmove"),l=Number(e.attr("data-pausetime")),d=Number(e.attr("data-animtime")),c=30;"thin"===e.attr("data-gutter")?c=10:"none"===e.attr("data-gutter")&&(c=0);var p=s?2:1,u=i>3?3:i,m=l;return n&&o||(m=36e5),{slidesPerView:i,spaceBetween:c,allowTouchMove:r,autoHeight:!0,loop:n,speed:d,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:m,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:p},480:{slidesPerView:p},600:{slidesPerView:s?u:i>2?2:i},768:{slidesPerView:u},1e3:{slidesPerView:i>5?5:i}},watchSlidesProgress:!0}},s=function(e){var a=t("#"+e).find(".swiper-wrapper"),i=a.clone(),s=i.find(".mb2-pb-carousel-item");i.find(".swiper-slide-duplicate").remove(),i.removeAttr("id"),i.removeAttr("class"),i.removeAttr("style"),i.removeAttr("aria-live"),s.removeAttr("class"),s.removeAttr("style"),s.removeAttr("role"),s.removeAttr("data-swiper-slide-index"),s.removeAttr("aria-label"),i.addClass("swiper-wrapper"),i.addClass("mb2-pb-content-list"),s.addClass("mb2-pb-carousel-item"),s.addClass("theme-slider-item"),s.addClass("swiper-slide"),a.closest(".mb2-pb-content").hasClass("mb2-pb-testimonials")&&s.addClass("mb2-pb-testimonials-item"),t("#"+e).empty(),t("#"+e).append(n()),t("#"+e).append(i),t("#"+e).append(o())},n=function(){var t="";return t+='<div class="theme-carousel-nav">',t+='<button type="button" class="swiper-button-nav swiper-button-prev themereset"></button>',t+='<button type="button" class="swiper-button-nav swiper-button-next themereset"></button>',t+="</div>"},o=function(){var t="";return t+='<div class="theme-carousel-pagenavnav">',t+='<div class="swiper-pagination"></div>',t+="</div>"};return{carouselInit:function(e){if(e){var s=new Swiper("#"+e,i(t("#"+e)));a(s)}else t(".swiper").each(function(){var e=new Swiper("#"+t(this).attr("id"),i(t(this)));a(e)})},carouselOptions:i,carouselDestroy:function(t){new Swiper("#"+t).destroy(),s(t)}}},i=function(){return{popupImage:function(){t(".popup-image").magnificPopup({type:"image"})},popupIframe:function(){t(".popup-iframe").magnificPopup({type:"iframe"})},popupInline:function(){t(".popup-html_video").each(function(){var e=t(this).attr("href");t(this).magnificPopup({items:{src:'<div class="popup-html-video"><video controls="true"><source src="'+e+'">'+e+"</video></div>"},type:"inline",callbacks:{open:function(){var e=t(this.content);setTimeout(function(){e.find("video")[0].play()},800)},close:function(){t(this.content).find("video")[0].load()}}})})}}},s=function(){var e=function(e){e.each(function(){t(this).hasClass("active")?t(this).attr("aria-hidden","false"):t(this).attr("aria-hidden","true")})},a=function(a){var i=t(".mb2slides"+a+" .lslide.active"),s=t(".mb2slides"+a+" .mb2slides-slide-list>li"),n=i.find(".mb2slides-caption");e(s),i.hasClass("active")?n.hasClass("anim1")&&n.stop().animate({top:0,bottom:0,opacity:1},350):n.stop().animate({top:15,bottom:-15,opacity:0},0)},i=function(e){768>=t(window).width()?(e.addClass("mb2slides-mobile"),e.removeClass("mb2slides-desktop")):(e.removeClass("mb2slides-mobile"),e.addClass("mb2slides-desktop"))},s=function(e){var a=t(".mb2slides"+e+" .mb2slides-caption");a.hasClass("anim1")&&a.stop().animate({top:15,bottom:-15,opacity:0},150)},n=function(e,a){e.addClass("loaded"),t(".mb2slides"+a+" .mb2slides-slide-list>li")};return{init:function(){t(".mb2slides-mainslider").each(function(){var e=t(this),o=t(this).find(".mb2slides-slide-list");o.find(".mb2slides-slide-item").find(".mb2slides-caption"),o.find(">li");var r=o.find(".mb2slides-nextslide"),l=o.find(".mb2slides-prevslide"),d=o.data("slidescount"),c=o.data("modid"),p=o.data("mode"),u=1==o.data("auto"),m=o.data("aspeed"),f=o.data("items"),v=o.data("margin"),b=o.data("moveitems")>f?f:o.data("moveitems"),$=o.data("apause"),h=1==o.data("kpress"),g=1==o.data("loop"),y=1==o.data("aheight"),w=1==o.data("pager"),_=1==o.data("control")||2==o.data("control"),C=!!t("body").hasClass("dir-rtl");d>1&&(o.lightSliderMb2({slidesVisible:!1,item:f,autoWidth:!1,slideMove:b,slideMargin:v,addClass:"",mode:p,useCSS:!0,cssEasing:"ease",easing:"linear",speed:m,auto:u,loop:g,slideEndAnimation:!0,pause:$,keyPress:h,controls:_,prevHtml:'<span class="'+(C?"fa fa-angle-right":"fa fa-angle-left")+'"></span>',nextHtml:'<span class="'+(C?"fa fa-angle-left":"fa fa-angle-right")+'"></span>',rtl:C,adaptiveHeight:y,vertical:!1,verticalHeight:500,vThumbWidth:100,pauseOnHover:!0,thumbItem:10,pager:w,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:f>1?[{breakpoint:768,settings:{item:f>2?2:f,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]:[],onBeforeStart:function(t){},onSliderLoad:function(t){a(c),n(e,c)},onAfterSlide:function(t){a(c)},onBeforeSlide:function(t){s(c)},onBeforeNextSlide:function(t){},onBeforePrevSlide:function(t){},onAfterReset:function(t){a(c)}}),r.click(function(t){t.preventDefault(),o.goToNextSlide()}),l.click(function(t){t.preventDefault(),o.goToPrevSlide()})),i(e),t(window).on("resize",function(){i(e)})})}}},n=function(){var e=function(e){var i=e.closest(".mb2-pb-coursetabs"),s=mb2nl_helper().dataAttribs(i);s=jQuery.param(s);var n=i.attr("data-rooturl")+"/mb2nl/lib/lib_ajax_coursetabs.php?"+s+"&categories="+e.attr("data-category")+"&sesskey="+i.attr("data-sesskey");t(".mb2-pb-coursetabs").removeClass("coursetabs-active"),i.addClass("coursetabs-active");var o=t(".coursetabs-active #"+e.attr("data-uniqid")+"_category-content-"+e.attr("data-category"));if(t(".coursetabs-active .coursetabs-catitem").removeClass("active"),e.addClass("active"),t(".coursetabs-active .coursetabs-content").removeClass("active"),o.addClass("active"),o.hasClass("fillin"))return null;o.addClass("loading"),t.ajax({url:n,type:"get",dataType:"html",beforeSend:function(){},error:function(t,e,a){},success:function(e){var i=t(".coursetabs-active .coursetabs-content.active");i.html(e);var s=i.find(".swiper");s.length&&a().carouselInit(s.attr("id")),i.addClass("fillin"),i.removeClass("loading")}})},i=function(){t(document).on("click",".coursetabs-catitem",function(a){e(t(this))})};return{getCourses:e,action:i}};({init:function(){a().carouselInit(!1),s().init(),i().popupImage(),i().popupIframe(),i().popupInline(),n().action(),({init:function(){t(".pbanimnum-item").each(function(){var e=t(this),a=!0;e.bind("inview",function(t,i){i&&a&&(a=!1,setTimeout(function(){var t=e.find(".pbanimnum-number"),a=e.closest(".mb2-pb-animnum").attr("data-aspeed");a=Number(a),e.prop("Counter",0).stop().animate({Counter:e.attr("data-number")},{duration:a,easing:"swing",step:function(e){t.text(this.Counter.toFixed())}})},600))})})}}).init(),({typedInit:function(){t(".typed").each(function(){var e,a=t(this).closest(".heading").attr("id");new Typed("#"+a+" .typed",(e=t("#"+a),{strings:e.attr("data-typedtext").split("|"),typeSpeed:Number(e.attr("data-typespeed")),backSpeed:Number(e.attr("data-backspeed")),backDelay:Number(e.attr("data-backdelay")),loop:!0}))})}}).typedInit(),e().init()}}).init()});
